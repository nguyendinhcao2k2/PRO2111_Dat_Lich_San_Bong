<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta
            name="author"
            content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Hugo 0.84.0"/>
    <link rel="website icon" type="png"
          href="https://img.freepik.com/premium-vector/soccer-ball-logo-illustration-vector_472355-210.jpg?w=2000">

    <title>Sân Bóng Đồng Đế</title>
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
            rel="stylesheet"
    />

    <!-- BOOTSTRAP -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
            rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/static/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/static/css/bootstrap.min.css}"/>
    <!-- BOOTSTRAP -->

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500&family=Roboto:wght@400;500;700&display=swap"
            rel="stylesheet"
    />
    <!-- Google -->

    <!-- Icon Font AWESOME Bắt buộc có hai bản 5.10 và 6.2 -->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
            integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />
    <!-- table icon -->
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <!-- table icon -->
    <link rel="stylesheet" th:href="@{/static/css/staff/danh-sach-hoa-don-staff.css}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <style>
        .selected-row {
            background-color: #d3d3d3;
        }
    </style>
</head>

<body>
<header th:insert="~{fragments/header-admin}"></header>

<div class="table-wrapper">
    <div class="table-title">
        <!--    row 1-->
        <div class="row">
            <div class="col-md-4">
                <h2 style="color: #fff">Hóa Đơn Đặt Lịch</h2>
            </div>
            <div class="col-md-8">
                <a href="#" class="btn btn-primary btn-refresh"
                ><i class="material-icons">&#xE863;</i>
                    <span>Refresh List</span></a
                >
                <a href="#" class="btn btn-secondary btn-export-excel"
                ><i class="material-icons">&#xE24D;</i>
                    <span>Export to Excel</span></a
                >
            </div>
        </div>
    </div>

    <!--    row2 -->
    <div class="row">
        <!--        col chung cho table, thông tin, và list servie của từng hóa đơn-->
        <div class="col-md-12">
            <div class="row">
                <!--                BEGIN COL-MD-9 Table, List--->
                <div class="col-md-9">
                    <div class="row">
                        <!-- col-md-12 TABLE -->
                        <div class="col-md-12">
                            <!-- ADD BODY ROW COL BÊN NGOÀI UPDATE THÊM HEADER THẺ DIV table table-striped table-hover -->
                            <div class="body-row-col">
                                <div class="row header-border">
                                    <div class="col-md-8">
                                        <div class="header-row-col">
                                            <h1>Danh Sách hóa đơn</h1>
                                        </div>
                                    </div>
                                    <div class="col-md-4 d-flex justify-content-end">
                                        <div class="input-group mb-3">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    placeholder="Tìm kiếm theo tên, số điện thoại..."
                                                    aria-label="Recipient's username"
                                                    aria-describedby="button-addon2"
                                            />
                                            <button
                                                    class="btn btn-success btn-outline-success"
                                                    type="button"
                                                    id="button-addon2"
                                                    style="
                              border-top-right-radius: 5px;
                              border-bottom-right-radius: 5px;
                            "
                                            >
                                                <i
                                                        class="fas fa-search fa-lg"
                                                        style="color: #ffffff"
                                                ></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive ">
                                    <table
                                            class="table table-striped table-hover"
                                            id="myTable"
                                    >
                                        <tbody id="myTableBody">
                                        <!-- Nội dung cập nhật bằng JavaScript -->
                                        </tbody>
                                    </table>
                                    <!-- LAMNP UPDATE PHÂN TRANG, HIỂN THỊ SỐ BẢN GHI 02/11 -->
                                    <div class="clearfix">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="hint-text">
                                                    <p style="color: #333">
                                                        Hiển thị <b>5</b> / <b>25</b> bản ghi.
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 d-flex justify-content-end">
                                                <nav aria-label="Page navigation">
                                                    <ul class="pagination">
                                                        <li class="page-item">
                                                            <a
                                                                    class="page-link"
                                                                    href="#"
                                                                    aria-label="Previous"
                                                            >
                                                                <span aria-hidden="true">&laquo;</span>
                                                            </a>
                                                        </li>
                                                        <li class="page-item active">
                                                            <a class="page-link" href="#">1</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a class="page-link" href="#">2</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a class="page-link" href="#">3</a>
                                                        </li>
                                                        <li class="page-item">
                                                            <a
                                                                    class="page-link"
                                                                    href="#"
                                                                    aria-label="Next"
                                                            >
                                                                <span aria-hidden="true">&raquo;</span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </nav>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- END UPDATE PHAN TRANG -->
                                </div>
                            </div>
                            <!-- END body-row-col  -->
                        </div>
                        <!-- END col-md-12  -->
                        <!-- col-md-12 DỊCH VỤ SỬ DỤNG -->
                        <div class="col-md-12 mt-4 mb-2">
                            <div class="body-row-col">
                                <div class="row">
                                    <div class="col-md-4 d-flex justify-content-start">
                                        <div class="header-row-col">
                                            <h1 class="">Dịch vụ sử dụng</h1>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="row g-2 align-items-center">
                                            <div class="col-md-6"></div>
                                            <div class="col-md-3 col-sm-auto">
                                                <select
                                                        id="select-san-staff"
                                                        class="form-select"
                                                        style="border-radius: 5px"
                                                >
                                                    <option selected value="0">Tất cả</option>
                                                    <option value="1">Nước Uống</option>
                                                    <option value="2">Bóng</option>
                                                    <option value="3">Áo đấu</option>
                                                </select>
                                            </div>
                                            <!-- BUTTON ADD DỊCH VỤ -->
                                            <div
                                                    class="col-md-3 col-sm-auto d-flex justify-content-end"
                                            >
                                                <button
                                                        id="addDichVu"
                                                        data-bs-toggle="modal"
                                                        data-bs-target="#modalAddDichVuHoaDon"
                                                        type="button"
                                                        class="btn btn-secondary btn-labeled-sm"
                                                >
                                                    <i
                                                            class="fas fa-plus fa-lg"
                                                            style="color: #f0f2f4"
                                                    ></i>
                                                </button>
                                                <!-- MODAL ADD DỊCH VỤ -->
                                                <div
                                                        class="modal fade"
                                                        id="modalAddDichVuHoaDon"
                                                        data-bs-backdrop="static"
                                                        data-bs-keyboard="false"
                                                        tabindex="-1"
                                                        aria-labelledby="staticBackdropLabel"
                                                        aria-hidden="true"
                                                >
                                                    <div class="modal-dialog modal-xl">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5
                                                                        class="modal-title"
                                                                >
                                                                    Thêm dịch vụ
                                                                </h5>
                                                                <button
                                                                        type="button"
                                                                        class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"
                                                                ></button>
                                                            </div>
                                                            <!-- BODY DICH VU-->
                                                            <div class="modal-body m-0">
                                                                <div class="body-row-col">
                                                                    <div class="row">
                                                                        <div class="col-md-9">
                                                                            <form>
                                                                                <div
                                                                                        class="row g-2 align-items-center"
                                                                                >
                                                                                    <!-- Sân filter -->
                                                                                    <div class="col-auto">
                                                                                        <label
                                                                                                for="search-list-service"
                                                                                                class="col-form-label label-filter-list-order"
                                                                                        >Tìm Kiếm :
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-3 col-sm-auto">
                                                                                        <input
                                                                                                type="text"
                                                                                                class="form-control"
                                                                                                id="search-list-service"
                                                                                                placeholder="Tìm kiếm tên dịch vụ..."
                                                                                        />
                                                                                    </div>

                                                                                    <!--Loại Sân  -->
                                                                                    <div class="col-auto">
                                                                                        <label
                                                                                                for="select-service-list-order"
                                                                                                class="col-form-label label-filter-list-order"
                                                                                        >Dịch vụ :
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="col-md-3 col-sm-auto">
                                                                                        <select
                                                                                                id="select-service-list-order"
                                                                                                class="form-select"
                                                                                                style="border-radius: 5px"
                                                                                        >
                                                                                            <option selected value="0">
                                                                                                Tất cả
                                                                                            </option>
                                                                                            <option value="1">
                                                                                                Nước
                                                                                            </option>
                                                                                            <option value="2">Áo
                                                                                            </option>
                                                                                            <option value="3">
                                                                                                Bóng
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                    <!-- BUTTON TÌM KIẾM -->
                                                                                    <div class="col-auto">
                                                                                        <button
                                                                                                type="submit"
                                                                                                class="btn btn-success btn-labeled-sm"
                                                                                        >
                                                                                            Tìm Kiếm
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                        <!-- BUTTON CHECK BOX -->
                                                                        <div class="col-md-3">
                                                                            <div
                                                                                    class="d-flex justify-content-end"
                                                                            >
                                                                                <button
                                                                                        type="button"
                                                                                        id="showCheckboxButtonList"
                                                                                        class="button-header-check-box"
                                                                                >
                                                                                  <span
                                                                                          class="button-icon-check-list"
                                                                                  >
                                                                                    <i
                                                                                            class="far fa-check-square fa-lg"
                                                                                    ></i>
                                                                                  </span>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!--  -->
                                                                <div class="row mt-3 scrollable-content"
                                                                     id="dataDichVuDoThueNuocUong">

                                                                </div>
                                                            </div>
                                                            <!-- END BODY -->
                                                            <div class="modal-footer">
                                                                <button
                                                                        type="button"
                                                                        class="btn btn-danger btn-labeled-sm"
                                                                        data-bs-dismiss="modal"
                                                                >
                                                                    Hủy
                                                                </button>
                                                                <button
                                                                        type="button"
                                                                        class="btn btn-primary btn-labeled-sm"
                                                                >
                                                                    Xác Nhận
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--  -->
                                            </div>
                                            <!-- END BUTTON ADD DỊCH VỤ -->
                                        </div>
                                    </div>
                                </div>
                                <div class="body-dich-vu header-border-content-dich-vu">
                                    <div class="row mt-3 scrollable-content" id="dataNuocUong">
                                    </div>
                                    <hr>
                                    <div class="row mt-3 scrollable-content" id="dataDoThue">

                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END col-md-12 -->
                    </div>
                </div>
                <!--                END COL-MD-9 Table, List-->
                <!--               BEGIN COL-MD-3 Hiển THị thông tin-->
                <div class="col-md-3">
                    <div class="body-row-col">
                        <div class="info-display">
                            <div class="header-border">
                                <h1>Thông Tin Hóa Đơn</h1>
                            </div>
                            <form method="GET">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="tenKhachHang" class="form-label"
                                        >Tên Khách Hàng</label
                                        >
                                        <input
                                                type="text"
                                                class="form-control"
                                                id="tenKhachHang"
                                                readonly
                                        />
                                    </div>
                                    <div class="col-md-6">
                                        <label for="soDienThoai" class="form-label"
                                        >Số Điện Thoại</label
                                        >
                                        <input
                                                type="text"
                                                class="form-control"
                                                id="soDienThoai"
                                                readonly
                                        />
                                    </div>
                                </div>
                                <br>
                                <div class="mb-3">
                                    <label for="tenSan" class="form-label">Tên Sân Ca</label>
                                    <input
                                            type="text"
                                            class="form-control"
                                            id="tenSan"
                                            readonly
                                    />
                                </div>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="thoiGianDa" class="form-label"
                                        >Thời Gian Đá</label
                                        >
                                        <input
                                                type="text"
                                                class="form-control"
                                                id="thoiGianDa"
                                                readonly
                                        />
                                    </div>
                                    <div class="col-md-6">
                                        <label for="thoiGianCheckIn" class="form-label"
                                        >Thời Gian Nhận Sân</label
                                        >
                                        <input
                                                readonly
                                                type="text"
                                                class="form-control"
                                                id="thoiGianCheckIn"
                                        />
                                    </div>
                                </div>
                                <br>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="tienSan" class="form-label">Giá sân</label>
                                        <div class="input-group">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    id="tienSan"
                                                    readonly
                                            />
                                            <span
                                                    class="input-group-text"
                                                    style="
                                                border-top-right-radius: 5px;
                                                border-bottom-right-radius: 5px;
                                              "
                                            >VND</span
                                            >
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="tienDichVu" class="form-label">Giá Dịch Vụ</label>
                                        <div class="input-group">
                                            <input
                                                    type="text"
                                                    class="form-control"
                                                    id="tienDichVu"
                                                    readonly
                                            />
                                            <span
                                                    class="input-group-text"
                                                    style="
                                                border-top-right-radius: 5px;
                                                border-bottom-right-radius: 5px;
                                              "
                                            >VND</span
                                            >
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-4">
                                    <div class="col-md-12">
                                        <h1>Thanh Toán</h1>
                                    </div>
                                    <hr/>

                                    <div class="col-md-12">
                                        <!-- phương thức chuyển khoản -->
                                        <fieldset class="row mb-3">
                                            <legend class="col-form-label col-md-4 pt-0">
                                                Phương thức thanh toán
                                            </legend>
                                            <div class="col-md-8">
                                                <div class="form-check">
                                                    <input
                                                            class="form-check-input"
                                                            type="radio"
                                                            name="phuongThucChuyenKhoan"
                                                            id="chuyeKhoan"
                                                            value="option1"
                                                            checked
                                                    />
                                                    <label class="form-check-label" for="chuyeKhoan">
                                                        Chuyển khoản
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input
                                                            class="form-check-input"
                                                            type="radio"
                                                            name="phuongThucChuyenKhoan"
                                                            id="tienMat"
                                                            value="option2"
                                                    />
                                                    <label class="form-check-label" for="tienMat">
                                                        Tiền mặt
                                                    </label>
                                                </div>
                                                <div class="form-check disabled">
                                                    <input
                                                            class="form-check-input"
                                                            type="radio"
                                                            name="phuongThucChuyenKhoan"
                                                            id="gridRadios3"
                                                            value="option3"
                                                            disabled
                                                    />
                                                    <label class="form-check-label" for="gridRadios3">
                                                        Third disabled radio
                                                    </label>
                                                </div>
                                            </div>
                                        </fieldset>

                                        <!--Phụ Phí  -->
                                        <div class="row mb-3">
                                            <label
                                                    for="selectPhuPhi"
                                                    class="col-md-4 col-form-label"
                                            >Phụ phí</label
                                            >
                                            <div class="col-md-8">
                                                <div class="input-group">
                                                    <select
                                                            id="selectPhuPhi"
                                                            class="form-select"
                                                            aria-label="Default select example"
                                                    >
                                                        <option selected>Chọn dịch vụ</option>
                                                        <option value="1">Hỏng</option>
                                                        <option value="2">Two</option>
                                                        <option value="3">Three</option>
                                                    </select>
                                                    <!--  -->
                                                    <button
                                                            class="btn btn-success btn-outline-success"
                                                            type="button"
                                                            id="button-addon5"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#modalThemPhuPhi"
                                                            style="
                                                              border-top-right-radius: 5px;
                                                              border-bottom-right-radius: 5px;
                                                            "
                                                    >
                                                        <i
                                                                class="fas fa-plus fa-lg"
                                                                style="color: #ffffff"
                                                        ></i>
                                                    </button>
                                                    <!-- MODAL -->
                                                    <div
                                                            class="modal fade"
                                                            id="modalThemPhuPhi"
                                                            data-bs-backdrop="static"
                                                            data-bs-keyboard="false"
                                                            tabindex="-1"
                                                            aria-labelledby="staticBackdropLabel"
                                                            aria-hidden="true"
                                                    >
                                                        <div class="modal-dialog">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5
                                                                            class="modal-title"
                                                                            id="staticBackdropLabel"
                                                                    >
                                                                        Thêm phụ phí
                                                                    </h5>
                                                                    <button
                                                                            type="button"
                                                                            class="btn-close"
                                                                            data-bs-dismiss="modal"
                                                                            aria-label="Close"
                                                                    ></button>
                                                                </div>

                                                                <form>
                                                                    <div class="modal-body">
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <label
                                                                                        for="tenPhuPhi"
                                                                                        class="form-label"
                                                                                >Tên phụ phí</label
                                                                                >
                                                                                <div class="input-group">
                                                                                    <input
                                                                                            type="text"
                                                                                            class="form-control"
                                                                                            id="tenPhuPhi"
                                                                                    />
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-12">
                                                                                <label
                                                                                        for="giaPhuPhi"
                                                                                        class="form-label"
                                                                                >Giá phú phí</label
                                                                                >
                                                                                <div class="input-group">
                                                                                    <input
                                                                                            type="text"
                                                                                            class="form-control"
                                                                                            id="giaPhuPhi"
                                                                                    />
                                                                                    <span
                                                                                            class="input-group-text"
                                                                                            style="
                                                                                              border-top-right-radius: 5px;
                                                                                              border-bottom-right-radius: 5px;
                                                                                            "
                                                                                            id="basic-addon2"
                                                                                    >VND</span
                                                                                    >
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button
                                                                                type="button"
                                                                                class="btn btn-danger btn-labeled-sm"
                                                                                data-bs-dismiss="modal"
                                                                        >
                                                                            Hủy
                                                                        </button>
                                                                        <button
                                                                                type="button"
                                                                                class="btn btn-success btn-labeled-sm"
                                                                        >
                                                                            Thêm
                                                                        </button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- END MODAL -->
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Tiền khách đưa -->
                                        <div class="row mb-3">
                                            <label for="tienKhachDua" class="col-md-4 col-form-label"
                                            >Tiền khách đưa</label
                                            >
                                            <div class="col-md-8">
                                                <div class="input-group">
                                                    <input
                                                            readonly
                                                            type="text"
                                                            class="form-control"
                                                            id="tienKhachDua"
                                                    />
                                                    <span
                                                            class="input-group-text"
                                                            style="
                              border-top-right-radius: 5px;
                              border-bottom-right-radius: 5px;
                            "
                                                            id="basic-addon3"
                                                    >VND</span
                                                    >
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Tiền trả lại -->
                                        <div class="row mb-3">
                                            <label for="tienTraLai" class="col-md-4 col-form-label"
                                            >Tiền trả lại</label
                                            >
                                            <div class="col-md-8">
                                                <div class="input-group">
                                                    <input
                                                            readonly
                                                            type="text"
                                                            class="form-control"
                                                            id="tienTraLai"
                                                    />
                                                    <span
                                                            class="input-group-text"
                                                            style="
                                                              border-top-right-radius: 5px;
                                                              border-bottom-right-radius: 5px;
                                                            "
                                                    >VND</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- tổng tiền -->
                                    <div class="col-md-12">
                                        <hr/>
                                        <h2
                                                style="
                                                font-size: 19px;
                                                font-family: Tahoma;
                                                font-weight: 600;
                                                text-align: center;
                                                color: rgb(215, 92, 92);
                                              "
                                        >
                                            Tổng Thanh Toán: <span id="tongThanhToan">0</span>
                                        </h2>
                                    </div>
                                </div>
                                <!-- BUTTON NEW 2/11 -->
                                <hr/>
                                <div
                                        class="mt-2 d-grid gap-2 d-md-block d-flex justify-content-center text-center"
                                >
                                    <button
                                            type="button "
                                            class="m-2 btn btn-danger btn-labeled"
                                    >
                                        Hủy
                                        <span class="btn-label">
                          <i class="fa fa-remove"></i>
                        </span>
                                    </button>
                                    <button
                                            type="submit"
                                            id="submitBtn"
                                            class="m-2 btn btn-success btn-labeled"
                                    >
                                        Thanh Toán
                                        <span class="btn-label"
                                        ><i class="fas fa-money-bill fa-lg"></i
                                        ></span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!--                END Hiển thị thông tin-->
            </div>
        </div>
    </div>
</div>
<script>

    // show check box
    const showCheckboxButtonList = document.getElementById(
        "showCheckboxButtonList"
    );
    const checkboxContainerList = document.getElementById(
        "checkboxContainerList"
    );

    showCheckboxButtonList.addEventListener("click", function () {
        // Toggle the display of the checkbox container
        if (checkboxContainerList.style.display === "none") {
            checkboxContainerList.style.display = "block";
        } else {
            checkboxContainerList.style.display = "none";
        }
    });
    //

    $(document).ready(function () {
        var getId;
        $.get("/api/v1/staff/get-all-thanh-toan", function (data) {
            var table = $("#myTable");
            // Tạo phần <thead> và các thẻ tiêu đề
            var thead = document.createElement('thead');
            var headerRow = document.createElement('tr');
            var headers = ['Tên khách', 'Số điện thoại', 'Sân ca', 'Thời gian ', 'Ngày đặt lịch', 'Trạng thái'];
            for (var i = 0; i < headers.length; i++) {
                var th = document.createElement('th');
                th.scope = 'col';
                th.textContent = headers[i];
                headerRow.appendChild(th);
            }
            thead.appendChild(headerRow);
            //<thead> vào bảng
            table.prepend(thead);

            //<tbody> với dữ liệu
            var tableBody = $("#myTableBody");
            tableBody.empty();

            //mục trang và trang hiện tại
            var pageSize = 8;
            var currentPage = 1;
            var totalPages = Math.ceil(data.length / pageSize);

            //hiển thị dữ liệu dựa trên trang hiện tại
            function displayData() {
                tableBody.empty();
                var startIndex = (currentPage - 1) * pageSize;
                var endIndex = Math.min(startIndex + pageSize, data.length);

                for (var i = startIndex; i < endIndex; i++) {
                    var item = data[i];
                    var row = document.createElement('tr');

                    row.dataset.id = item.id;
                    row.dataset.soDienThoai = item.soDienThoai;
                    row.dataset.tenKhachHang = item.tenKhachHang;
                    row.dataset.tenSanBong = item.tenSanBong;
                    row.dataset.tenLoaiSan = item.tenLoaiSan;
                    row.dataset.tenCa = item.tenCa;
                    row.dataset.thoiGianBatDau = item.thoiGianBatDau;
                    row.dataset.thoiGianKetThuc = item.thoiGianKetThuc;
                    row.dataset.tongTienSanCa = item.tongTienSanCa;
                    row.dataset.tongTienThanhToan = item.tongTienSanCa;
                    row.dataset.thoiGianCheckIn = item.thoiGianCheckIn;
                    row.dataset.ngayDenSan = item.ngayDenSan;


                    //ô dữ liệu và thêm dữ liệu vào
                    var cell1 = document.createElement('td');
                    cell1.textContent = item.tenKhachHang;
                    var cell2 = document.createElement('td');
                    cell2.textContent = item.soDienThoai;
                    var cell3 = document.createElement('td');
                    cell3.textContent = item.tenSanBong + " - " + item.tenCa;
                    var cell4 = document.createElement('td');
                    cell4.textContent = item.thoiGianBatDau + " - " + item.thoiGianKetThuc;
                    var cell5 = document.createElement('td');
                    cell5.textContent = formatDate(item.ngayDatLich);
                    var cell6 = document.createElement('td');
                    //trạng thái và hiển thị 'true' nếu trạng thái là 1
                    cell6.textContent = item.trangThai === 1 ? 'CHƯA THANH TOÁN' : 'ĐÃ THANH TOÁN';

                    //các ô vào hàng
                    row.appendChild(cell1);
                    row.appendChild(cell2);
                    row.appendChild(cell3);
                    row.appendChild(cell4);
                    row.appendChild(cell5);
                    row.appendChild(cell6);

                    row.addEventListener('click', function () {
                        var tongTienDichVu = 0;
                        tableBody.find('tr').removeClass('selected-row');
                        $(this).addClass('selected-row');
                        getId = this.dataset.id;
                        $.ajax({
                            url: '/api/v1/staff/dich-vu-san-bong/dich-vu-thanh-toan/' + getId,
                            method: 'GET',
                            success: function (apiResponse) {
                                $('#dataNuocUong').empty();
                                $('#dataDoThue').empty();
                                apiResponse.forEach(function (item) {
                                    var idNuocUong = item.idNuocUong;
                                    if (idNuocUong != null && idNuocUong != '') {
                                        var imageNuocUong = item.imageNuocUong;
                                        var tenNuocUong = item.tenNuocUong;
                                        var giaNuocUong = item.giaNuocUong;
                                        var soLuongNuocUong = item.soLuongNuocUong;
                                        tongTienDichVu += (soLuongNuocUong * giaNuocUong);

                                        var htmlContent = '<div class="col-md-3 col-sm-3 col-4">';
                                        htmlContent += '<div class="card card-product">';
                                        htmlContent += '<img src="/static/img/' + imageNuocUong + '" class="card-img-top" alt="..." />';
                                        htmlContent += '<div class="card-body">';
                                        htmlContent += '<h5 class="card-title text-center">' + tenNuocUong + '</h5>';
                                        htmlContent += '<span class="price" type="number">' + giaNuocUong + ' VNĐ</span>';
                                        htmlContent += '<div class="form-group form-group-list-service-order">';
                                        htmlContent += '<label class="form-label" for="quantity">Số Lượng :</label>';
                                        htmlContent += '<input min="1" value="' + soLuongNuocUong + '" type="number" class="soluong" id="quantity" />';
                                        htmlContent += '</div>';
                                        htmlContent += '</div>';
                                        htmlContent += '<div class="card-footer bg-white">';
                                        htmlContent += '<div class="d-grid gap-2 d-md-flex justify-content-md-end">';
                                        htmlContent += '<button id="buttonXoa" data-id="' + idNuocUong + '" class="btn btn-danger btn-labeled-sm">Xóa</button>';
                                        htmlContent += '<button class="btn btn-success btn-labeled-sm">Cập Nhập</button>';
                                        htmlContent += '</div>';
                                        htmlContent += '</div>';
                                        htmlContent += '</div>';
                                        htmlContent += '</div>';
                                        $('#dataNuocUong').append(htmlContent);
                                    }
                                    var idDoThue = item.idDoThue;
                                    console.log(idDoThue);
                                    if (idDoThue != null && idDoThue != '') {
                                        var imageDoThue = item.imageDoThue;
                                        var giaDoThue = item.giaDoThue;
                                        var tenDoThue = item.tenDoThue;
                                        var soLuongDoThue = item.soLuongDoThue;
                                        tongTienDichVu += (soLuongDoThue * giaDoThue);

                                        var htmldoThue = '<div class="col-md-3 col-sm-3 col-4">';
                                        htmldoThue += '<div class="card card-product">';
                                        htmldoThue += '<img src="/static/img/' + imageDoThue + '" class="card-img-top" alt="..." />';
                                        htmldoThue += '<div class="card-body">';
                                        htmldoThue += '<h5 class="card-title text-center">' + tenDoThue + '</h5>';
                                        htmldoThue += '<span class="price" type="number">' + giaDoThue + ' VNĐ</span>';
                                        htmldoThue += '<div class="form-group form-group-list-service-order">';
                                        htmldoThue += '<label class="form-label" for="quantity">Số Lượng :</label>';
                                        htmldoThue += '<input min="1" value="' + soLuongDoThue + '" type="number" class="soluong" id="quantity" />';
                                        htmldoThue += '</div>';
                                        htmldoThue += '</div>';
                                        htmldoThue += '<div class="card-footer bg-white">';
                                        htmldoThue += '<div class="d-grid gap-2 d-md-flex justify-content-md-end">';
                                        htmldoThue += '<button id="buttonXoa" data-id="' + idDoThue + '" class="btn btn-danger btn-labeled-sm">Xóa</button>';
                                        htmldoThue += '<button class="btn btn-success btn-labeled-sm">Cập Nhập</button>';
                                        htmldoThue += '</div>';
                                        htmldoThue += '</div>';
                                        htmldoThue += '</div>';
                                        htmldoThue += '</div>';

                                        $('#dataDoThue').append(htmldoThue);
                                    }


                                });

                                $('#tienDichVu').val(tongTienDichVu);
                                $('#tongThanhToan').text((tongTienDichVu + item.tongTienSanCa) + ' . VNĐ');
                            },
                            error: function (error) {
                                console.error('API Request Failed:', error);
                            }
                        });
                        $('#tienSan').val(this.dataset.tongTienSanCa);
                        $('#tenKhachHang').val(this.dataset.tenKhachHang);
                        $('#soDienThoai').val(this.dataset.soDienThoai);
                        $('#tenSan').val(this.dataset.tenSanBong + ' - ' + this.dataset.tenCa + ' - ' + this.dataset.tenLoaiSan);
                        $('#thoiGianDa').val(this.dataset.thoiGianBatDau + ' - ' + this.dataset.thoiGianKetThuc);
                        $('#thoiGianCheckIn').val(this.dataset.ngayDenSan + ' - ' + this.dataset.thoiGianCheckIn);
                        totalTongTienDichVu = 0;


                    });
                    tableBody.append(row);
                }

                updatePagination();
            }

            // hàm để cập nhật phân trang
            function updatePagination() {
                var pagination = $(".pagination");
                pagination.empty();

                var previousPage = currentPage - 1;
                var nextPage = currentPage + 1;

                pagination.append("<li class='page-item'><a class='page-link' href='#' aria-label='Previous'><span aria-hidden='true'>&laquo;</span></a></li>");

                for (var i = 1; i <= totalPages; i++) {
                    var pageItem = "<li class='page-item'><a class='page-link' href='#'>" + i + "</a></li>";
                    if (i === currentPage) {
                        pageItem = "<li class='page-item active'><a class='page-link' href='#'>" + i + "</a></li>";
                    }
                    pagination.append(pageItem);
                }

                pagination.append("<li class='page-item'><a class='page-link' href='#' aria-label='Next'><span aria-hidden='true'>&raquo;</span></a></li>");

                if (previousPage < 1) {
                    $(".pagination li:first").addClass("disabled");
                }

                if (nextPage > totalPages) {
                    $(".pagination li:last").addClass("disabled");
                }
            }

            // xử lý sự kiện khi người dùng chọn trang
            $('.pagination').on('click', 'a.page-link', function (e) {
                e.preventDefault();
                var pageText = $(this).text();
                if (pageText === "«") {
                    if (currentPage > 1) {
                        currentPage--;
                        displayData();
                    }
                } else if (pageText === "»") {
                    if (currentPage < totalPages) {
                        currentPage++;
                        displayData();
                    }
                } else {
                    currentPage = parseInt(pageText);
                    displayData();
                }
            });
            displayData();
        });
        $('#addDichVu').on('click', function () {
            $.ajax({
                url: '/api/v1/staff/dich-vu-san-bong/danh-sach-dich-vu',
                method: 'GET',
                success: function (apiResponse) {
                    console.log(apiResponse);
                    if (apiResponse && Array.isArray(apiResponse)) {
                        $('#dataDichVuDoThueNuocUong').empty();
                        apiResponse.forEach(function (item) {
                            //Nuoc Uong
                            var id = item.id;
                            var image = item.image;
                            var gia = item.donGia;
                            var soLuong = item.soLuong;
                            var tenDichVu = item.tenDichVu;
                            var trangThai = item.trangThai;

                            // Tạo chuỗi HTML cho thẻ <div class="card card-product"> cho từng đối tượng
                            var htmlContent2 = '<div class="col-md-3 col-sm-3 col-4">';
                            htmlContent2 += '<div class="card card-product">';
                            htmlContent2 += '<div id="checkboxContainerList" style="display: none; position: absolute; top: 10px; left: 10px">';
                            htmlContent2 += '<input type="checkbox" style="width: 20px; height: 20px; margin-right: 5px" id="checkBoxListService"/>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '<img src="/static/img/' + image + '" class="card-img-top" alt="..." />';
                            htmlContent2 += '<div class="card-body">';
                            htmlContent2 += '<h5 class="card-title text-center">' + tenDichVu + '</h5>';
                            htmlContent2 += '<span class="price" type="number">' + gia + ' VNĐ</span>';
                            htmlContent2 += '<div class="form-group form-group-list-service-order">';
                            htmlContent2 += '<label class="form-label" for="quantity">Kho Còn : ' + soLuong + '</label>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '<div class="card-footer bg-white">';
                            htmlContent2 += '<div class="d-grid gap-2 d-md-flex justify-content-md-end">';
                            htmlContent2 += '<input min="1" value="1" type="number" class="soluong" id="quantity" />';
                            htmlContent2 += '<button id="addDichVuHoaDon" type="button" class="btn btn-success btn-labeled-sm" data-id="' + id + '" data-trang-thai="' + trangThai + '">Thêm</button>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '</div>';
                            htmlContent2 += '</div>';

                            $('#dataDichVuDoThueNuocUong').append(htmlContent2);
                        });
                    }
                },
                error: function (error) {
                    console.error('API Request Failed:', error);
                }
            });
        });
        $(document).on('click', '#addDichVuHoaDon', function () {
            var card = $(this).closest('.card-product');
            var soLuong = card.find('.soluong').val();
            var idDichVuSuDung = $(this).data('id');
            var trangThaiDichVu = $(this).data('trang-thai');
            console.log(idDichVuSuDung + '  -  ' + soLuong);
            $.ajax({
                url: '/api/v1/staff/dich-vu-san-bong/them-dich-vu-hoa-don/' + getId,
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({
                    soLuong: soLuong,
                    id: idDichVuSuDung,
                    trangThai: trangThaiDichVu
                }),
                success: function (response) {
                },
                error: function (error) {
                    console.error('API Request Failed:', error);
                }
            });
        });
        $(document).on('click', '#buttonXoa', function () {
            $.ajax({
                url: '/api/v1/staff/dich-vu-san-bong/xoa-dich-vu/' + getId,
                method: 'DELETE',
                contentType: 'application/json',
                success: function (response) {
                },
                error: function (error) {
                    console.error('API Request Failed:', error);
                }
            });
        });

    });

    function formatDate(inputDateString) {
        var date = new Date(inputDateString);
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();
        var formattedDate = day + ' - ' + month + ' - ' + year;
        return formattedDate;
    }
</script>
<!-- Add Bootstrap JS and jQuery links -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- UPDATE 2/11/023 -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
